<!doctype html>
<html>
	<head>
		<!-- meta -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<!-- title -->
		<title>Дифференциальное исчисление</title>

		<!-- load style -->
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/my.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!-- !importnat style -->
		<style>
			.formula {
				margin-bottom: 10px !important;
			}
		</style>

	</head>
	<body>

		<div class="reveal">
			<div class="slides">

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Дифференциальное исчисление
						==================
						
						Note:
						Дифференциальное исчисление
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Предел функции
						--------------
						
						Note:
						Предел функции
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Определение предела функции
						
						#### По гейну
						$$
							A = \lim_{x \rightarrow a}{f(x)} 
							\Leftrightarrow \forall \{ x_n \}
							\in X, \{x_n\} \rightarrow a 
							\Rightarrow \{ f(x_n)\} \rightarrow A
						$$

						#### По коши
						$$
							A = \lim_{x \rightarrow x_0}{f(x)}
							\Leftrightarrow
						$$
						$$
							\forall \varepsilon > 0 \,
							\exists \delta = \delta (\varepsilon) > 0:
							 \forall x_0 < | x - x_0 |  < \delta 
							 \Rightarrow | f(x) - A | < \varepsilon
						$$

						#### Окрестное определение
						$$
							A = \lim_{x \rightarrow x_0}{f(x)}
							\Leftrightarrow 
							\forall O(A) \, \exists \dot{O}(x_0):
							f(\dot{O}(x_0)) \subset O(A)
						$$

						Note:
						Определение по Гейну: Значение А - это предел
						функции f(x) в точке x нулевое, если из любой
						последовательности X_n из X стремящееся к точке А
						следует, что последовательность соответствующих функции
						f(x_n) стремится к А

						Определение по Коши: Значение А - это предел
						функции f(x) в точке x нулевое, если для любого 
						положительно взятого числа епсилон, найдется отвечающее
						ему положительное число дельта равное дельта от епсилон, 
						такое что для всех аргументов x, удовлетворяющих условию 
						модуль от разности x - x_0 лежит в пределах от 0 до дельта
						следует, что выполняется равенство модуль разности f(x) - А
						меньше епсилон.

						Окрестностное определение: Значение А - это предел 
						функции f(x) в точке x нулевое, если для любой окрестности
						в точке А существует проколотая окрестность точки x_0, такая что
						образ этой окрестности лежит в окрестности точки А.
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------
						
						$$
							\lim_{x \rightarrow \infty} 
							\dfrac{2x^2-3x-5}{1+x+3x^2}
							= \dfrac{\infty}{\infty}
						$$

						$$
							\lim_{x \rightarrow \infty}
							\dfrac{
								\dfrac{2x^2-3x-5}{x^2}
							}{
								\dfrac{1+x+3x^2}{x^2}
							} = 
							\lim_{x \rightarrow \infty}
							\dfrac{
								\dfrac{2x^2}{x^2} - 
								\dfrac{3x}{x^2}^{\rightarrow 0} - 
								\dfrac{5}{x^2}^{\rightarrow 0}
							}{
								\dfrac{1}{x^2}^{\rightarrow 0} + 
								\dfrac{x}{x^2}^{\rightarrow 0} +
								\dfrac{3x^2}{x^2}
							} = 
						$$
						$$
							\lim_{x \rightarrow \infty} \dfrac{2}{3} = 
							\dfrac{2}{3}
						$$

						Note:
						Примеры решения пределов
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Производная
						--------------
						
						Note:
						Производная
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Определение

						$$
							f'(x_0) = \lim_{\Delta x \rightarrow 0}
							{\dfrac{\Delta y}{\Delta x}} = 
							\lim_{\Delta x \rightarrow 0} 
							{\dfrac{ f(x_0+\Delta x) - f(x_0)}{\Delta x}}
						$$

						Note:
						Производная - это предел отношения приращения функции 
						к прирощению аргумента, при стремлении последнего к нулю
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Способы записи производных

						#### По Ньютону
						$$
							\dot{x}(t_0)
						$$

						#### По Эйлеру
						$$
							D^n f(x_0)
						$$

						#### По Лейбницу
						$$
							\dfrac{d^nf}{dx^n}(x_0)
						$$

						Note:
						На слайде представлены 4 способа записи производных
					</script>
				</section>
					
				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Способы записи производных
						
						#### По Лагранжу
						$$
						f'(x_0) = f^{(1)}(x_0) = f^{(I)}(x_0)
						$$
						$$
						f''(x_0), f'''(x_0), f^{(IV)}(x_0)
						$$
						
						Note:
						На слайде представлены 4 способа записи производных
					</script>
				</section>

				<!-- Dinamic silde -->
				<section id="diffTable">
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Правила дифференцирования

						$$
							(C(f(x)))' = C(f(x))'
						$$
						$$
							(f(x) \pm g(x))' = (f(x))' \pm (g(x))'
						$$
						$$
							(f(x) \cdot g(x))' = (f(x))'g(x) + f(x)(g(x))'
						$$
						$$
							\left( \dfrac{f(x)}{g(x)} \right)' = 
							\dfrac{(f(x))'g(x) - f(x)(g(x))'}{g(x)^2}
						$$
						$$
							f(g(x))' = f'(g(x)) \cdot g(x)'
						$$

						Note:
						Константу можно выносить за производную  
						Производная суммы или разности равна сумме или 
						разности производных  
						Производная произведения равна производной первого 
						множителя
						на второй плюс производная второго множителя на 
						первый  
						Производная частного равна отношению разности 
						производной числителя на знаменатель
						и производной знаменателя на числитель к квадрату 
						знаменателя  
						Производная сложной функции равна производной 
						внешней функции на производную внутренней.
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------
						
						$$
							y' = (3\sin(x))' = 3(\sin(x))' = 3\cos(x)
						$$
						$$
							y' = (x^2+7x-e^x)' = (x^2)'+7(x)'-(e^x)' = 
							2x+7-e^x
						$$
						$$
							y' = (x\ln(x))' = (x)'\ln(x) + x(\ln(x))' =
							1\cdot\ln(x) + x\cdot\dfrac{1}{x} = 
						$$
						$$
							\ln(x)+1
						$$
						$$
							y' = \left(\dfrac{\sin(x)}{x}\right)' = 
							\dfrac{
								(\sin(x))'x - \sin(x)(x)'
							}{x^2} =
							\dfrac{x\cos(x)-\sin(x)}{x^2}
						$$	

						Note:
						Примеры решения производных
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------
						
						$$
							y' = (\cos(x^2))' = 
							-\sin(x^2)(x^2)' =
							-2x\sin(x^2)
						$$

						Note:
						Примеры решения производных
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Частные производные

						$$
							\dfrac {\partial f}{\partial x_k}
							(a_1, \cdots, a_n) = 
						$$
						$$
							\lim_{\Delta x \rightarrow 0}
							{\dfrac{f(a_1, \cdots, a_k + \Delta x, \cdots, a_n) -
							f(a_1, \cdots, a_k, \cdots, a_n)}
							{\Delta x}}
						$$

						Note:
						Частная производная - это отношение прирощения функции
						по выбранной переменной к прирощению этой переменной, при
						стремлении этого прирощения к нулю.
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------
						
						$$
							z(x,y) = x^2 - y^2 + 2xy + 5
						$$
						$$
							\dfrac{\partial z}{\partial x} =
							2x+2y
						$$
						$$
							\dfrac{\partial z}{\partial y} =
							2x-2y
						$$
						Note:
						Примеры решения частных производных
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Полный дифференциал

						$$
							z = f(x_0, x_1, \cdots, x_n)
						$$
						$$
							dz = f'_{x_0}(x_0,x_1, \cdots, x_n)\,dx_0 +
							f'_{x_1}(x_0,x_1, \cdots, x_n)\,dx_1 +
								\cdots +
						$$
						$$
							f'_{x_n}(x_0,x_1, \cdots, x_n)\,dx_n
						$$

						Note:
						Полный дифференциал - это сумма частных 
						производных по каждой переменной
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------
						
						$$
							z = e^{xy}
						$$

						$$
							\dfrac{\partial z}{\partial x} =
							e^{xy}y
						$$
						$$
							\dfrac{\partial z}{\partial y} =
							e^{xy}x
						$$
						$$
							dz = ye^{xy}\,dx + xe^{xy}\,dy =
							e^{xy}(y\,dx+x\,dy)
						$$
						Note:
						Примеры решения полного дифференциала
					</script>
				</section>

				<section>
					<h3>Поиск производной</h3>
					<label> Функция:
						<input type="text" value="cos(x*y)" id="expression">
					</label>
					<label> Переменная:
						<input type="text" value="x=3,y=4" id="variable">
					</label>
					Производная:
					<output id="result"></output>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Физический смысл производной

						Если точка движется вдоль оси $x$ и её координаты
						изменяются по закону $x(t)$, то мгновенная скорость точки 
						$v(t) = x'(t)$, а ускорение $a(t) = v'(t) = x''(t)$

						Note:
						Первая производная в точке - есть 
						мгновенная скорость
						этой точки в момент времени t, 
						двигающейся по кривой x(t)  
						Вторая производная в точке - есть 
						ускорение этой точки в момент времени t,
						двигающейся по кривой x(t)
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------
						Дано: Материальная точка движется вдоль оси $x$
						прямолинейно по закону $x(t) = 6t^2-48t+17$,
						где $x(t)$ - расстояние от точки отчета в метрах,
						$t$ - время в секундах, измеренное с начала движения.
						
						Найти: скорость и ускорение в момент времени $t = 9$
						секундам.

						Note:
						Примеры решения задач на физический смысл
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------

						Решение: 
						$$
							v(t) = x'(t) = (6t^2-48t+17)' = 12t - 48
						$$
						$$
							v(9) = 12 \cdot 9 - 48 = 60 \text{м/с}
						$$
						$$
							a(t) = x''(t) = (12t - 48)' = 12
						$$
						$$
							a(9) = 12 \text{м/с}^2
						$$

						Note:
						Примеры решения задач на физический смысл
					</script>
				</section>

				<section>
					<h3>Поиск скорости и ускорения</h3>
					<label> Путь:
						<input type="text" value="x^4+6x^2+cos(x)+1" id="path">
					</label>
					<label> Точка:
						<input type="text" value="12" id="point"> <br>
					</label>
					Скорость:
					<output id="speed"></output> <br>
					Ускорение:
					<output id="acceleration"></output> <br>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Геометрический смысл производной

						Производная в точке $x_0$ равна тангенсу угла наклона
						касательной к графику функции $f(x)$ в этой точки.
						$$
							f'(x_0) = \tan(\alpha), \text{где} \alpha - 
							\text{угол наклона касательной}
						$$

						Note:
						Производная в точке x_0 - есть тангенс угла наклона
						касательной к функции f(x)
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Уравнение касательной

						$$
							y_{k} = f'(x_0)(x-x_0) + f(x_0)
						$$
						
						Note:
						Уравнение касательной задается производной
						функции в точке касания умноженную на разность
						переменной и точки касания плюс значение функции
						в точке касания
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Пример:
						--------------

						Задача: составить уравнение касательной к
						графику функции $y = \dfrac{1}{3}x^3 - 4x + 1$
						в точке $x_0 = 3$

						Решение: 
						$$
							f'(x) =  x^2 - 4
						$$
						$$
							f'(3) = 3^2 - 4 = 5
						$$
						$$
							f(3) = \dfrac{1}{3}3^3 - 4\cdot3 + 1 = 
							9 - 12 + 1 = -2
						$$
						$$
							y_{k} = 5(x-3)-2 = 5x-17
						$$
						Note:
						Примеры решения задач на уравнения касательной
					</script>
				</section>

				<section>
					<h3>Уравнение касательной</h3>
					<label> Функция:
						<input type="text" value="x^4+6x^2+1" id="func">
					</label>
					<label> Абцисса точки касания:
						<input type="text" value="4" id="pointTan"> <br>
					</label>
					Точка касания:
					<output id="tangentPoint"></output> <br>
					Уравнение касательной:
					<output id="tangent"></output>
					<div id="plot" style="height: 400px;"></div>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Исходный код
						------------
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Таблица производных
						
						```
						let diffTable = () => {
							let func = [
								'C',
								'x^n',
								'a^x',
								'e^x',
								'log(x,a)',
								'log(x)',
								'sin(x)',
								'cos(x)',
								'tan(x)',
								'cot(x)',
								'asin(x)',
								'acos(x)',
								'atan(x)',
								'acot(x)',
							];
							let slide;
							for (let i in func) {
								if (i%7 == 0) {
									slide = document.createElement('section');
									if (i == 0) {
										slide.className = 'present';
									} else {
										slide.className = 'future';
									}
									slide.innerHTML = `<h3>Таблица производных</h3>`;
								}
								let h = math.parse(func[i]);
								let x = math.parse('x');
								let expression = h.toTex();
								let diff = diffResult(h, x).toTex();
								slide.innerHTML += '<p>'+katex.renderToString(`(${expression})' = ${diff}`) +'</p>';
								if (i%7 == 6 || func.length - i == 1) {
									document.querySelector('#diffTable').appendChild(slide);
								}
							}
							document.querySelector('#diffTable').style = 
								"display:block; top:0";
						}
						```
					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Поиск производных

					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Мгновенная скорость и ускорение

					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### Построение уравнения касательной

					</script>
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						### График касательной

					</script>
				</section>

				<section data-background="image/4.jpg">
				</section>

				<section data-background="image/15.jpg">
				</section>

				<section data-background="image/2.jpg"  data-menu-title="Картинка">
				</section>

				<section data-markdown data-separator-notes="^Note:">
					<script type="text/template">
						Спасибо за внимание
					</script>
				</section>
			</div>
		</div>

		<!-- load js -->
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script src="js/lib.js"></script>
		<!-- Библиотека для математики -->
		<script src="lib/js/math.min.js"></script>
		<!-- Библиотека для математики -->
		<script src="lib/js/algebrite.bundle-for-browser.js"></script>
		<!-- Библиотека для рисования графиков -->
		<script src="lib/js/plotly.min.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				
				// save slide
				history: true,
				slideNumber: true,
				touch: true,

				// show katex error
				math: {
					notificationsEnabled: true,
				},

				menu: {
					side: 'left', //Расположение меню
					numbers: true, //Нумерация слайдов
					markers: true, //Маркер посещения
					titleSelector: 'h1, h2, h3, h4, h5, h6', //Заголовки, отображаемые в меню
					useTextContentForMissingTitles: true, //Если заголовка нет, то подставляем первые слова слайда
					hideMissingTitles: false, //Если заголовка нет, то скрываем слайд из меню
					transitions: true, //Установить меню анимации
					openButton: true, //Скрыть кнопку меню
					keyboard: true, //Открытие меню по кнопке m
				},

				// load dependencies
				dependencies: [
					{
						// tex
						src: 'plugin/math-katex/math-katex.js', 
						async: true,
						callback: () => {
							// solve problem with katex 
							let section = document.querySelectorAll('section script');
								section.forEach( (item, i) => {
									section[i].innerHTML = section[i].innerHTML
										.replace(/\\/g,'\\\\')
										.replace(/_/g,'\\_')
										.replace(/\{/g,'\\\{')
										.replace(/\}/g,'\\\}');
							});
						},
					}, { 
						//markdown
						src: 'plugin/markdown/marked.js',
					}, { 
						src: 'plugin/markdown/markdown.js', 
						async: true,
					},{ 
						//Menu
						src: 'plugin/menu/menu.js',
						async: true
					},{ 
						//notes
						src: 'plugin/notes/notes.js', 
						async: true
					}, { 
						// highlight syntax
						src: 'plugin/highlight/highlight.js', 
						async: true, 
						callback: () => {
							//Костыль для совместной работы katex и markdown
							let code = document.querySelectorAll('code');
							code.forEach ( (item, i) => {
								code[i].innerHTML = code[i].innerHTML
									.replace(/\\{/g,'{')
									.replace(/\\}/g,'}');
							});
							hljs.initHighlightingOnLoad();
						}
					}
				]
			});

			Reveal.configure({
				keyboard: {
					68: function () {
						Reveal.configure({
							//Навесим событие на клавишу D
							//Покажим заметки
							showNotes: (
								Reveal.getConfig().showNotes ? 
									false: true
								)
						});
					}
				}
			});

			//Функция поиска производной
			let diffResult = (h, x) => {
				return math.derivative(h,x);
			}

			//Функция генерации таблицы прозводных
			let diffTable = () => {
				//Массив функций для таблицы
				let func = [
					'C', //Константа
					'x^n', //Степенная функция
					'a^x', //Показательная функция
					'e^x', //Экспонента
					'log(x,a)', //Логарифм по любому основанию
					'log(x)', //Натуральный логарифм
					'sin(x)', //Синус
					'cos(x)', //Косинус
					'tan(x)', //Тангенс
					'cot(x)', //Котангенс
					'asin(x)', //Арксинус
					'acos(x)', //Арккосинус
					'atan(x)', //Арктангенс
					'acot(x)', //Арккотангенс
				];
				//Создаем переменную, в которую будет добавлять содержимое слайда
				let slide;
				//Проходим в цикле массив функций
				for (let i in func) {
					//Так как на слайде недолжно быть больше 7 строк, то начинаем
					//новый слайд после того, как обработали 7 строк, а так же
					//0 функция
					if (i%7 == 0) {
						//Создадим слайд
						slide = document.createElement('section');
						//Чтобы динамический слайд отобразился сразу, нужно
						//воспользоваться таких хаком, сделав динамический слайд
						//текущим
						if (i == 0) {
							slide.className = 'present';
						} else {
							slide.className = 'future';
						}
						//Добавим заголовок слайда
						slide.innerHTML = `<h3>Таблица производных</h3>`;
					}
					//Парсим через math.js функцию
					let h = math.parse(func[i]);
					//Парсим через math.js переменную дифференцировани
					let x = math.parse('x');
					//Сохраним исходную функцию в техе
					let expression = h.toTex();
					//Посчитаем производную и сохраним её в техе
					let diff = diffResult(h, x).toTex();
					//Записываем результат в таблицу
					slide.innerHTML += '<p>'+katex.renderToString(`(${expression})' = ${diff}`) +'</p>';
					//Как только достигли 7 строки или конца, то выводим наш слайд на экран
					if (i%7 == 6 || func.length - i == 1) {
						document.querySelector('#diffTable').appendChild(slide);
					}
				}
				//Чтобы заголовок не оставался посередине, то поднимаем наш слайд к верху
				document.querySelector('#diffTable').style = 
					"display:block; top:0";
			}

			//Программа по нахождения уравнения касательной
			let tangent = () => {
				//Забираем наше выражение из input и парсим через math.js
				let h = math.parse(document.querySelector('#func').value);
				//Создаем переменную по котором будем дифференцировать
				let x = math.parse('x');
				//Забираем значение из инпута абциссы точки касания
				let val = document.querySelector('#pointTan').value;
				//Вычисляем значение функции в точке
				let f = h.compile().evaluate({x:val});
				//Собираем уравнение касательной по формуле ввиде строки
				let tangent = diffResult(h,x).evaluate({x:val}) +
					'(x-'+val+')+'+f;
				//Парсим нашу строку через math.js для превращения формулы
				//в нормальный вид
				let tangentString = math.parse(tangent).toString();
				//Раскрываем скобки
				let expand = Algebrite.expand(tangentString).toString();
				//Костыль для устранения бага в библиотеке Algebrite
				expand = expand.replace(/\.\.\./g,'');
				//Рендерим наше уравнение в презентацию
				katex.render(math.parse(expand).toTex(),
					document.querySelector('#tangent'));
				//Рендерим точку касания в презентацию
				katex.render('('+val+','+f+')',
					document.querySelector('#tangentPoint'));
			}

			//Программа по поиску производной
			let diff = () => {

			}

			//Программа по поиску скорости и ускорения
			let speed = () => {

			}

			//Запускаем программы только после полной загрузки
			window.onload = () =>  {
				// Генерация таблицы производных сразу после загрузки презентации
				diffTable();

				//События отжатия клавиши в программе поиска производной
				document.querySelector('#expression').onkeyup = diff;
				document.querySelector('#variable').onkeyup = diff;

				//События отжатия клавиши в программе поиска скорости и ускорения
				document.querySelector('#path').onkeyup = speed;
				document.querySelector('#point').onkeyup = speed;

				//События отжатия клавиши в программе уравнения касательной
				document.querySelector('#func').onkeyup = tangent;
				document.querySelector('#pointTan').onkeyup = tangent;
			}
		</script>
	</body>
</html>